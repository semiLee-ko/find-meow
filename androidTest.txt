1. 전략 바꾸자: “네비 높이만큼 WebView에 패딩 주기”

Capacitor니까, MainActivity.java 에서 윈도우 인셋을 받아서 WebView 쪽에 패딩을 넣어주는 방법으로 갈게.

MainActivity.java 예시

MainActivity.java 를 이렇게 수정해줘 (중요 부분만):

package your.package.name; // 원래 패키지 그대로 유지

import android.os.Bundle;
import android.view.View;

import com.getcapacitor.BridgeActivity;

import androidx.core.graphics.Insets;
import androidx.core.view.ViewCompat;
import androidx.core.view.WindowCompat;
import androidx.core.view.WindowInsetsCompat;

public class MainActivity extends BridgeActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // 1) 시스템 바까지 그리되 (false),
        // 2) 대신 우리가 직접 인셋만큼 패딩을 줄 거야.
        WindowCompat.setDecorFitsSystemWindows(getWindow(), false);

        final View content = findViewById(android.R.id.content);

        ViewCompat.setOnApplyWindowInsetsListener(content, (v, insets) -> {
            // 상태바 + 네비바 영역 구하기
            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());

            // WebView가 올라가 있는 최상위 컨테이너에 패딩 적용
            // → 위/아래/좌/우 모두 시스템 바만큼 띄워줌
            v.setPadding(
                    systemBars.left,
                    systemBars.top,
                    systemBars.right,
                    systemBars.bottom
            );

            // 인셋은 소비하지 않고 그대로 반환 (다른 뷰들도 필요하면 사용 가능)
            return insets;
        });
    }
}


핵심은 딱 이거야:

WindowCompat.setDecorFitsSystemWindows(getWindow(), false);
→ “화면 전체(네비 위까지) 쓸 거야” 라고 해두고

android.R.id.content 에 systemBars.bottom 만큼 패딩을 줌
→ 그 안에 있는 WebView(네 게임 화면) 전체가 네비 위로 깔끔하게 올라감

이렇게 하면:

갤럭시 폴드 접은 화면 / 펼친 화면 / 회전할 때마다
시스템이 인셋 값을 다시 계산해서 onApplyWindowInsetsListener를 태워줌

너는 HTML/CSS에선 그냥 “네비가 없다 생각하고” 디자인해도 됨
(이미 있는 padding-bottom: calc(env(...)+…) 도 사실상 보너스, 없어도 됨)

2. styles.xml 쪽도 한 번만 확인

혹시 android/app/src/main/res/values/styles.xml 에 이런 게 있으면:

<item name="android:windowFullscreen">true</item>
<item name="android:windowTranslucentNavigation">true</item>
<item name="android:windowTranslucentStatus">true</item>


이런 완전 풀스크린/투명 네비 옵션은 가능한 빼주는 게 좋아.

우리는 이제 인셋 기반으로 패딩을 주는 방식으로 갈 거라,

굳이 windowFullscreen, windowTranslucentNavigation 같은 걸 더하면
또다시 “OS가 네비를 겹쳐 그리려고 함” + “우리는 패딩 줌” 이 섞여서 이상해질 수 있어.

3. 웹 쪽(CSS)은 지금 상태에서 크게 안 건드려도 됨

현재 styles.css 상단부 구조는 이미 괜찮은 편이라서,
안드로이드가 인셋 패딩만 잘 넣어주면 이대로도 충분히 안전해 보여. 

styles

굳이 손볼 거라면:

padding-bottom: calc(env(safe-area-inset-bottom) + 20px);
→ 안드에서 이미 패딩을 줘버리면, 이건 “추가 여유” 정도라서
너무 높다 싶으면 나중에 10px~16px 정도로 줄이는 정도만 해도 됨.

4. 지금부터 실제 적용 순서

MainActivity.java를 위 코드처럼 수정

WindowCompat.setDecorFitsSystemWindows 한 줄과

ViewCompat.setOnApplyWindowInsetsListener 블럭 추가

styles.xml에서 windowFullscreen, windowTranslucentNavigation 같은 옵션 있으면 일단 주석 처리

다시 capacitor copy android, android studio 에서 빌드 → APK 설치

갤폴드에서:

접힌 화면: 네비 영역 위까지만 잘 보이는지

펼친 화면: 게임 하단/리모컨이 네비 뒤로 안 숨는지

결과 팝업 / 도움말 팝업도 하단 버튼이 가려지지 않는지