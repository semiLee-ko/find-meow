(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const h={APPENTOS_APP_KEY:"jAicsveDu9OQDtYs4m8H3v0SiI9DfhV9uKgB97_0WVA",ENV:"production",MAX_CHANNEL_IMAGES:82,DEFAULT_PLAYER_NAMES:["ëƒ¥ì½©ì´","ëª½ê¸€ëƒ¥","ê³ ì–‘ë³„","ëƒ¥ë­‰ì¹˜","ê¼¬ë¬¼ì´","ë§ë‘ë°œë°”ë‹¥","ì†œë°œì´","ì½”ì½”ëƒ¥","ë³„ëƒ¥ì´","êµ¬ë¦„ë°œìêµ­","ì‚´ë‘ì´","ì´ˆì½”ê¼¬ë¦¬","ë™ê¸€ëƒ¥","í•˜ëŠ˜ë°œìêµ­","ë‹¬ëƒ¥ì´","ìˆœë‘¥ëƒ¥","ëˆˆì†¡ì´ëƒ¥","í¬í¬ëƒ¥","ê°€ì„ëƒ¥","ì´ì´ì´"],ADMOB_INTERSTITIAL_ID:"ait-ad-test-interstitial-id"};function X(){console.log("ğŸ”Š ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ì´ˆê¸°í™”..."),window.isAudioEnabled=!1,window.isMusicPlaying=!1,Q();const e=document.getElementById("audioToggleButton");e&&(e.onclick=t=>{t.preventDefault(),q()})}function q(){window.isAudioEnabled=!window.isAudioEnabled;const e=document.getElementById("audioOnIcon"),t=document.getElementById("audioOffIcon"),n=document.getElementById("audioToggleButton");if(window.isAudioEnabled)e.style.display="block",t.style.display="none",n.classList.remove("disabled"),n.setAttribute("aria-checked","true"),console.log("ğŸ”Š All audio enabled");else{e.style.display="none",t.style.display="block",n.classList.add("disabled"),n.setAttribute("aria-checked","false");const i=document.getElementById("bgMusic");if(i&&window.isMusicPlaying){i.pause();const o=document.getElementById("powerButton"),s=document.getElementById("ledIndicator"),c=document.getElementById("soundWaves");o.classList.remove("active"),s.classList.remove("active"),c.classList.remove("active"),window.isMusicPlaying=!1}console.log("ğŸ”‡ All audio disabled")}}function Z(){const e=document.getElementById("bgMusic"),t=document.getElementById("bgMusicSrc"),n=document.getElementById("powerButton"),i=document.getElementById("ledIndicator"),o=document.getElementById("soundWaves");if(e)if(window.isMusicPlaying)e.pause(),n.classList.remove("active"),i.classList.remove("active"),o.classList.remove("active"),window.isMusicPlaying=!1;else{if(!window.isAudioEnabled){typeof window.showCustomAlert=="function"?window.showCustomAlert("ìƒë‹¨ì˜ ì‚¬ìš´ë“œ ë²„íŠ¼ì„ ë¨¼ì € ì¼œì£¼ì„¸ìš”!"):alert("ìƒë‹¨ì˜ ì‚¬ìš´ë“œ ë²„íŠ¼ì„ ë¨¼ì € ì¼œì£¼ì„¸ìš”!");return}n.classList.add("active"),i.classList.add("active"),o.classList.add("active"),window.isMusicPlaying=!0,t&&t.src&&e.play().then(()=>console.log("ë°°ê²½ìŒ ì¬ìƒ ì‹œì‘")).catch(s=>console.warn("ìŒì•… ì¬ìƒ ì‹¤íŒ¨:",s))}}function y(e){return window.isAudioEnabled?e&&typeof e.play=="function"?e.play().catch(t=>{console.warn("Audio play failed:",t)}):Promise.resolve():(console.log("âš ï¸ Audio is disabled"),Promise.resolve())}function Q(){document.addEventListener("visibilitychange",()=>{const e=document.getElementById("bgMusic"),t=document.getElementById("scanSound"),n=document.getElementById("gameStartSound"),i=document.getElementById("gameEndSound"),o=document.getElementById("failSound");document.hidden?(window.wasMusicPlaying=e&&!e.paused,e&&e.pause(),t&&t.pause(),n&&n.pause(),i&&i.pause(),o&&o.pause(),console.log("ì•± ë°±ê·¸ë¼ìš´ë“œ - ëª¨ë“  ì˜¤ë””ì˜¤ ì¼ì‹œì •ì§€")):(console.log("ì•± í¬ê·¸ë¼ìš´ë“œ ë³µê·€"),window.wasMusicPlaying&&window.isMusicPlaying&&e&&e.play().then(()=>console.log("ë°°ê²½ìŒì•… ìë™ ì¬ê°œ")).catch(s=>console.warn("ë°°ê²½ìŒì•… ì¬ê°œ ì‹¤íŒ¨:",s)))})}window.toggleAllAudio=q;window.toggleMusic=Z;const j=[];for(let e=1;e<=82;e++){const t=e.toString().padStart(4,"0");j.push(`channel${t}.jpg`)}let O=0,A=3,p=0,r="",f="",I=[],C={},P=[],W=!1;async function J(){if(W){console.log("âš ï¸ ê²Œì„ì´ ì´ë¯¸ ì´ˆê¸°í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.");return}console.log("ğŸ® ê²Œì„ ì‹œìŠ¤í…œ ì´ˆê¸°í™”..."),W=!0;try{const n=await fetch("point/json/pointInfo.json");n.ok&&(C=await n.json(),console.log("ê³ ì–‘ì´ ìœ„ì¹˜ ì •ë³´ ë¡œë“œ ì™„ë£Œ"))}catch(n){console.warn("ê³ ì–‘ì´ ìœ„ì¹˜ ì •ë³´ ë¡œë“œ ì‹¤íŒ¨:",n)}ue(),T(),we(),setTimeout(V,2e3),window.startGame=te,window.pressNumber=ne,window.backspace=oe,window.changeChannel=K,window.confirmPlayer=ce,window.resetGame=S,window.randomChannel=se,window.openInfoPopup=de,window.closeInfoPopup=re,window.showCustomAlert=w,window.closeCustomAlert=_,window.showCustomAlert=w,window.closeCustomAlert=_;const e=document.getElementById("tvImage"),t=document.getElementById("tvSubtitle");e.src="images/basicCn.png",e.style.display="block",t&&t.classList.remove("hidden")}function ee(e){if(!e||e.trim()==="")return{valid:!1,message:"ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!"};const t=e.trim();if(!/^[ê°€-í£a-zA-Z0-9]+$/.test(t))return{valid:!1,message:"í•œê¸€, ì˜ë¬¸, ìˆ«ìë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤!"};const i=t.match(/[ê°€-í£]/g)||[],o=t.match(/[a-zA-Z0-9]/g)||[];if(i.length>0){const s=i.length+o.length;if(s<2||s>10)return{valid:!1,message:"í•œê¸€ í¬í•¨ ì‹œ 2~10ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”!"}}else if(o.length<2||o.length>20)return{valid:!1,message:"ì˜ë¬¸/ìˆ«ìë§Œ ì‚¬ìš© ì‹œ 2~20ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”!"};return{valid:!0,message:""}}function te(){const e=document.getElementById("gameStartSound");e.currentTime=0,y(e),A=parseInt(document.getElementById("playerCount").value),p=0,I=[],P=[],document.getElementById("initialScreen").classList.add("slide-out"),setTimeout(()=>{document.getElementById("initialScreen").classList.add("hidden");const t=document.getElementById("remoteControl");t.style.display="block",t.classList.add("slide-in"),Y(),H()},500)}function H(){const e=document.getElementById("playerName");p<h.DEFAULT_PLAYER_NAMES.length?e.value=h.DEFAULT_PLAYER_NAMES[p]:e.value=`í”Œë ˆì´ì–´${p+1}`}function Y(){const e=document.getElementById("playerInfo");e.textContent=`í”Œë ˆì´ì–´ ${p+1} / ${A}`}let v=!1;function ne(e){if(v)return;const t=document.getElementById(`btn${e}`);t.classList.add("pressed"),setTimeout(()=>t.classList.remove("pressed"),200);const n=document.getElementById("clickSound");n&&(n.currentTime=0,y(n)),!(r.length===0&&e==="0")&&r.length<3&&(r+=e,M())}function oe(){v||(r=r.slice(0,-1),M())}function se(){if(v)return;v=!0,r="",M();const e=Math.floor(Math.random()*999)+1,n=String(e).padStart(3,"0").split("");n.forEach((i,o)=>{setTimeout(()=>{const s=`btn${i}`,c=document.getElementById(s);if(c){c.classList.add("pressed"),setTimeout(()=>c.classList.remove("pressed"),200);const l=document.createElement("div");l.className="button-paw-print";const u=(Math.random()-.5)*40;l.style.setProperty("--paw-rotation",`${u}deg`),c.appendChild(l),setTimeout(()=>l.remove(),600)}r+=i,M();const a=document.getElementById("clickSound");a&&(a.currentTime=0,y(a))},o*600)}),setTimeout(()=>{const i=document.getElementById("btnChannelAction");if(i){i.style.transform="translateY(2px)",setTimeout(()=>i.style.transform="",200);const o=document.createElement("div");o.className="button-paw-print";const s=(Math.random()-.5)*40;o.style.setProperty("--paw-rotation",`${s}deg`),i.appendChild(o),setTimeout(()=>o.remove(),800);const c=document.getElementById("clickSound");c&&(c.currentTime=0,y(c))}setTimeout(()=>{v=!1,K()},500)},n.length*600)}function M(){const e=document.getElementById("channelDisplay");r.length>0?(e.textContent=r.padStart(3,"0"),e.classList.add("active")):(e.textContent="000",e.classList.remove("active"))}function K(){if(v)return;const e=parseInt(r);if(!r||e<1||e>999){w("ì±„ë„ ë²ˆí˜¸ëŠ” 1~999 ì‚¬ì´ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”!");return}const t=I.map(c=>c.channel);if(t.includes(r.padStart(3,"0"))){w(`ì±„ë„ ${r.padStart(3,"0")}ë²ˆì€ ì´ë¯¸ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤!

ì‚¬ìš©ëœ ì±„ë„: ${t.join(", ")}`);return}const n=j.filter(c=>!P.includes(c));if(n.length===0){w("ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë¯¸ì§€ê°€ ëª¨ë‘ ì†Œì§„ë˜ì—ˆìŠµë‹ˆë‹¤!");return}const i=Math.floor(Math.random()*n.length);f=n[i];const o=document.getElementById("tvImage");o.src=`images/channels/${f}`,o.style.display="block";const s=document.getElementById("tvSubtitle");s&&s.classList.add("hidden"),o.onload=()=>{ie(f),x(!1)},o.onerror=()=>{w("ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!"),o.style.display="none"}}function ie(e){document.querySelectorAll(".cat-pulse").forEach(d=>d.remove());const n=document.querySelector(".scan-line");if(n&&n.remove(),!C[e]){console.warn(`${e}ì— ëŒ€í•œ ê³ ì–‘ì´ ìœ„ì¹˜ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.`),x(!0),b(!0),L();return}const i=C[e].cats||[],o=document.getElementById("tvScreen"),s=document.getElementById("scanSound"),c=Array.from(document.querySelectorAll(".catSound"));N(0),s.currentTime=0,y(s);const a=document.createElement("div");a.className="scan-line",o.appendChild(a);let l=2e3;if(a.style.animation=`scanMove ${l}ms linear forwards`,i.length===0){setTimeout(()=>{a.remove(),s.pause(),s.currentTime=0;const d=document.getElementById("failSound");d&&(d.currentTime=0,y(d)),N(0),b(!0),L()},l);return}let u=0;i.forEach(d=>{const U=l*d.x;setTimeout(()=>{const E=document.createElement("div");E.className="cat-pulse",E.style.left=`${d.x*100}%`,E.style.top=`${d.y*100}%`,o.appendChild(E),setTimeout(()=>{E.remove()},1500);const D=c[O%c.length];D.currentTime=0,y(D),O++,u++,N(u),u===i.length&&setTimeout(()=>{b(!0),L()},500)},U)}),setTimeout(()=>{a.remove(),s.pause(),s.currentTime=0},l)}function ce(){const e=document.getElementById("playerName").value.trim(),t=ee(e);if(!t.valid){w(t.message);return}if(!r||!f){w("ì±„ë„ì„ ì„ íƒí•´ì£¼ì„¸ìš”!");return}const n=C[f]?.cats?.length||0;if(I.push({name:e,channel:r.padStart(3,"0"),imageName:f,catCount:n}),P.push(f),p<A-1){p++,r="",f="";const i=document.getElementById("tvImage");i.onload=null,i.style.display="block",i.src="images/basicCn.png";const o=document.getElementById("tvSubtitle");o&&o.classList.remove("hidden"),Y(),H();const s=document.getElementById("catCounter");s.classList.remove("active","pop"),s.textContent="0";const c=document.getElementById("channelDisplay");c.classList.remove("active"),c.textContent="000",document.querySelectorAll(".cat-pulse").forEach(l=>l.remove()),x(!0),b(!1),L()}else ae()}function ae(){const e=document.getElementById("gameEndSound");e.currentTime=0,y(e),I.sort((s,c)=>c.catCount-s.catCount);const t=document.getElementById("resultList");t.innerHTML="";let n=1,i=-1,o=0;I.forEach(s=>{const c=s.catCount===i;c?o++:(n+=o,o=1),i=s.catCount;const a=document.createElement("div");a.className="result-item";let l="",u="",d=`${n}ë“±`;n===1?(l="first",u="ğŸ¥‡",d=c?"ê³µë™ 1ë“±":"1ë“±"):n===2?(l="second",u="ğŸ¥ˆ",d=c?"ê³µë™ 2ë“±":"2ë“±"):n===3?(l="third",u="ğŸ¥‰",d=c?"ê³µë™ 3ë“±":"3ë“±"):d=c?`ê³µë™ ${n}ë“±`:`${n}ë“±`,a.innerHTML=`
      <div class="result-rank ${l}">
        ${u?`<span class="rank-emoji">${u}</span>`:""}
        <span class="rank-text">${d}</span>
      </div>
      <div class="result-info">
        <div class="result-name">${s.name}</div>
        <div class="result-details">
          <span class="result-channel">ì±„ë„ ${s.channel}</span>
          <span class="result-score">ğŸ± ${s.catCount}ë§ˆë¦¬</span>
        </div>
      </div>
      <div class="result-thumbnail">
        <img src="images/channels/${s.imageName}" alt="ì±„ë„ ${s.channel}">
      </div>
    `,t.appendChild(a)}),document.getElementById("remoteControl").style.display="none",document.getElementById("resultScreen").classList.add("active")}function S(){ve().then(()=>{le()})}function le(){A=3,p=0,r="",f="",I=[],P=[],document.getElementById("resultScreen").classList.remove("active"),document.getElementById("remoteControl").style.display="none",document.getElementById("remoteControl").classList.remove("slide-in"),document.getElementById("initialScreen").classList.remove("slide-out","hidden");const e=document.getElementById("tvImage");e.style.display="block",e.src="images/basicCn.png";const t=document.getElementById("tvSubtitle");t&&t.classList.remove("hidden"),e.onload=null,e.onerror=null;const n=document.getElementById("catCounter");n.classList.remove("active","pop"),n.textContent="0";const i=document.getElementById("channelDisplay");i.classList.remove("active"),i.textContent="000",document.getElementById("playerCount").value="3",document.getElementById("playerName").value="",x(!0),b(!1),document.querySelectorAll(".cat-pulse").forEach(c=>c.remove());const s=document.querySelector(".scan-line");s&&s.remove()}function x(e){["btn1","btn2","btn3","btn4","btn5","btn6","btn7","btn8","btn9","btn0","btnBackspace","btnRandom","btnChannelAction"].forEach(n=>{const i=document.getElementById(n);i&&(i.disabled=!e)})}function b(e){document.getElementById("btnNext").disabled=!e}function L(){const e=document.getElementById("btnNext");p===A-1?e.setAttribute("aria-label","ê²°ê³¼ í™•ì¸"):e.setAttribute("aria-label","ë‹¤ìŒ")}function N(e){const t=document.getElementById("catCounter");t.textContent=e,t.classList.add("active"),e>0?(t.classList.remove("pop"),t.offsetWidth,t.classList.add("pop")):t.classList.remove("pop")}let B=null;function de(){B=document.activeElement;const e=document.getElementById("infoPopup");e.classList.add("active"),document.body.style.overflow="hidden";const t=e.querySelector(".close-button");t&&setTimeout(()=>t.focus(),100)}function re(){document.getElementById("infoPopup").classList.remove("active"),document.body.style.overflow="",B&&B.focus()}function w(e){B=document.activeElement;const t=document.getElementById("customAlertOverlay"),n=document.getElementById("customAlertMessage"),i=t.querySelector(".custom-alert-button");n.textContent=e,t.classList.add("active"),i&&setTimeout(()=>i.focus(),100)}function _(){document.getElementById("customAlertOverlay").classList.remove("active"),B&&B.focus()}let z=!1;function ue(){if(z){console.log("âš ï¸ ë“œë¡­ë‹¤ìš´ì´ ì´ë¯¸ ì´ˆê¸°í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.");return}const e=document.getElementById("customDropdown"),t=document.getElementById("dropdownButton"),n=document.getElementById("dropdownList"),i=document.getElementById("dropdownValue"),o=document.getElementById("playerCount");t&&(t.setAttribute("aria-expanded","false"),t.addEventListener("click",c=>{c.stopPropagation(),e.classList.toggle("open");const a=e.classList.contains("open");t.setAttribute("aria-expanded",a)})),n&&(n.querySelectorAll(".custom-dropdown-option").forEach(a=>{a.setAttribute("role","option"),a.setAttribute("aria-selected",a.classList.contains("selected"))}),n.addEventListener("click",a=>{if(a.target.classList.contains("custom-dropdown-option")){const l=a.target.getAttribute("data-value"),u=a.target.textContent;i.textContent=u,o.value=l,document.querySelectorAll(".custom-dropdown-option").forEach(d=>{d.classList.remove("selected"),d.setAttribute("aria-selected","false")}),a.target.classList.add("selected"),a.target.setAttribute("aria-selected","true"),e.classList.remove("open"),t&&t.setAttribute("aria-expanded","false")}})),document.addEventListener("click",()=>{e&&(e.classList.remove("open"),t&&t.setAttribute("aria-expanded","false"))});const s=document.querySelector('.custom-dropdown-option[data-value="3"]');s&&(s.classList.add("selected"),s.setAttribute("aria-selected","true")),z=!0}function me(e,t,n=0){const i=document.querySelector(".tv-screen");if(i){const c=i.getBoundingClientRect(),a=50;if(e+a>c.left&&e<c.right&&t+a>c.top&&t<c.bottom)return}const o=document.getElementById("pawPrintsContainer"),s=document.createElement("div");s.className="paw-print",s.style.left=`${e}px`,s.style.top=`${t}px`,s.style.transform=`rotate(${n}deg) scaleX(-1)`,o.appendChild(s),setTimeout(()=>{s.remove()},8e3)}let g={x:0,y:0},m=0,R=!1;function ge(){g.x=window.innerWidth/2+(Math.random()-.5)*200,g.y=window.innerHeight/2+(Math.random()-.5)*200,m=Math.random()*360}function fe(){const e=window.innerWidth,t=window.innerHeight,n=100;g.x<n?m=-45+Math.random()*90:g.x>e-n?m=135+Math.random()*90:g.y<n?m=45+Math.random()*90:g.y>t-n?m=225+Math.random()*90:m+=(Math.random()-.5)*90,m=(m%360+360)%360}function pe(){fe();const i=m*Math.PI/180;for(let o=0;o<8;o++)setTimeout(()=>{const s=o%2===0?-1:1,c=Math.cos(i)*45*o+Math.sin(i)*12*s,a=Math.sin(i)*45*o-Math.cos(i)*12*s,l=g.x+c,u=g.y+a,d=m+90+(Math.random()-.5)*10;me(l,u,d),o===7&&(g.x=l,g.y=u)},o*250)}function V(){R||(ge(),R=!0),pe(),setTimeout(V,1800)}function we(){const e=document.getElementById("infoPopup");if(e){e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-labelledby","infoPopupTitle");const s=e.querySelector(".info-title");s&&(s.id="infoPopupTitle")}const t=document.getElementById("customAlertOverlay");t&&(t.setAttribute("role","alertdialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-describedby","customAlertMessage"));const n=document.getElementById("audioToggleButton");n&&(n.setAttribute("role","switch"),n.hasAttribute("aria-label")||n.setAttribute("aria-label","ì „ì²´ ì‚¬ìš´ë“œ ì¼œê¸°/ë„ê¸°"));const i=document.getElementById("dropdownList");i&&i.setAttribute("role","listbox");const o=document.getElementById("dropdownButton");o&&o.setAttribute("aria-haspopup","listbox")}let F=!1;async function ye(){if(F){console.log("Bedrock already initialized");return}console.log("--- Environment Check ---"),console.log("UA:",navigator.userAgent),console.log("Bedrock:",!!window.Bedrock),console.log("Toss:",!!window.Toss),console.log("BedrockNative:",!!window.BedrockNative),console.log("Location:",document.location.href),console.log("-------------------------"),window.Bedrock||(console.warn("âš ï¸ Bedrock SDK not found. Initializing Mock SDK for development."),he());try{const{Bedrock:e}=window;await e.init({appKey:h.APPENTOS_APP_KEY,env:h.ENV}),console.log("âœ… Bedrock initialized successfully"),F=!0,Ie(),be()}catch(e){console.error("âŒ Bedrock initialization failed:",e),console.warn("Running in development mode with limited Bedrock features")}}window.resetGame=S;window.showExitConfirmation=$;let k=!1;async function T(){if(!window.Bedrock){console.warn("âš ï¸ window.Bedrock missing");return}if(!window.Bedrock.loadAppsInTossAdMob){console.warn("âš ï¸ loadAppsInTossAdMob not found on window.Bedrock");return}console.log("â³ Loading Interstitial Ad (Window)...");try{const e=window.Bedrock.loadAppsInTossAdMob({options:{adGroupId:h.ADMOB_INTERSTITIAL_ID},onEvent:t=>{t.type==="loaded"&&(k=!0,console.log("âœ… Interstitial Ad Loaded (Window)"),e&&e())},onError:t=>{console.warn("âŒ Failed to load Interstitial Ad:",t),k=!1,e&&e()}})}catch(e){console.warn("âŒ Error calling loadAppsInTossAdMob:",e)}}function ve(){return new Promise(e=>{if(!k){console.log("âš ï¸ Ad not loaded, skipping..."),T(),e();return}if(!window.Bedrock||!window.Bedrock.showAppsInTossAdMob){console.warn("âš ï¸ showAppsInTossAdMob not supported"),e();return}try{console.log("ğŸ“º Showing Interstitial Ad (Window)..."),window.Bedrock.showAppsInTossAdMob({options:{adGroupId:h.ADMOB_INTERSTITIAL_ID},onEvent:t=>{switch(console.log("Ad Event:",t.type),t.type){case"show":console.log("ê´‘ê³  í‘œì‹œë¨");break;case"dismissed":console.log("ê´‘ê³  ë‹«í˜"),k=!1,T(),e();break;case"failedToShow":console.warn("ê´‘ê³  í‘œì‹œ ì‹¤íŒ¨"),e();break}},onError:t=>{console.warn("âŒ Failed to show Ad:",t),e()}})}catch(t){console.warn("âŒ Error calling showAd:",t),e()}})}function he(){window.Bedrock={init:()=>Promise.resolve(),exit:()=>{console.log("ğŸ›‘ [Mock] Bedrock.exit() called"),confirm("ì•± ì¢…ë£Œ (Mock)")},loadAppsInTossAdMob:e=>(console.log("ğŸ“¦ [Mock] loadAppsInTossAdMob:",e),setTimeout(()=>{e.onEvent?.({type:"loaded",data:{}})},1e3),()=>console.log("[Mock] cleanup called")),showAppsInTossAdMob:e=>{console.log("ğŸ“º [Mock] showAppsInTossAdMob:",e),setTimeout(()=>{e.onEvent?.({type:"show"})},500),setTimeout(()=>{console.log("âœ… [Mock] Ad dismissed"),e.onEvent?.({type:"dismissed"})},2500)}},window.NavigationBar={setTitle:e=>console.log(`ğŸ·ï¸ [Mock] NavigationBar.setTitle: ${e}`),setBackButton:e=>{console.log("â¬…ï¸ [Mock] NavigationBar.setBackButton:",e),window.mockPressBackButton=e.onPress,console.log("ğŸ’¡ í…ŒìŠ¤íŠ¸ íŒ: ê°œë°œì ë„êµ¬ ì½˜ì†”ì—ì„œ window.mockPressBackButton() ì„ ì‹¤í–‰í•˜ì—¬ ë’¤ë¡œê°€ê¸° ë™ì‘ì„ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.")}},window.OnAudioFocusChanged=e=>{console.log("ğŸ§ [Mock] OnAudioFocusChanged listener registered"),window.addEventListener("focus",()=>e(!0)),window.addEventListener("blur",()=>e(!1))}}function Ie(){try{const{NavigationBar:e}=window;if(!e)return;e.setTitle("Find Meow"),e.setBackButton({visible:!0,onPress:Be}),console.log("âœ… Navigation bar configured")}catch(e){console.warn("Navigation bar setup failed:",e)}}function Be(){console.log("â¬…ï¸ Handle Back Button Pressed");const e=Ee();if(console.log(`Current Screen detected as: ${e}`),e==="game")$();else if(e==="result")S();else try{window.Bedrock.exit()}catch(t){console.warn("Cannot exit (development mode):",t)}}function Ee(){const e=document.getElementById("remoteControl"),t=document.getElementById("resultScreen");return e&&e.classList.contains("slide-in")?"game":t&&t.classList.contains("active")?"result":"initial"}function $(){if(confirm("ê²Œì„ì„ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{window.Bedrock.exit()}catch(t){console.warn("Cannot exit:",t),S()}}function be(){try{const{OnAudioFocusChanged:e}=window;if(!e)return;e(t=>{console.log(`Audio focus changed: ${t}`),t?Se():Ae()}),console.log("âœ… Audio focus listener configured")}catch(e){console.warn("Audio focus listener setup failed:",e)}}function Ae(){const e=document.getElementById("bgMusic"),t=document.getElementById("scanSound");if(!e)return;e.paused||(window.wasMusicPlaying=!0,e.pause()),t&&!t.paused&&t.pause();const n=document.getElementById("powerButton"),i=document.getElementById("ledIndicator"),o=document.getElementById("soundWaves");n&&n.classList.remove("active"),i&&i.classList.remove("active"),o&&o.classList.remove("active"),console.log("ğŸ”‡ All audio paused (Focus Lost)")}function Se(){if(window.isAudioEnabled&&window.wasMusicPlaying&&window.isMusicPlaying){const e=document.getElementById("bgMusic");e&&e.play().then(()=>{console.log("ğŸ”Š Background music resumed (Focus Gained)");const t=document.getElementById("powerButton"),n=document.getElementById("ledIndicator"),i=document.getElementById("soundWaves");t&&t.classList.add("active"),n&&n.classList.add("active"),i&&i.classList.add("active")}).catch(t=>console.warn("Failed to resume music:",t))}}window.resetGame=S;window.showExitConfirmation=$;async function G(){console.log("ğŸš€ Find Meow ì•± ì‹œì‘...");const e=document.getElementById("rating-overlay");e&&(e.classList.add("active"),setTimeout(()=>{e.remove()},5200));try{await ye(),T(),X(),J(),console.log("âœ… ì•± ì´ˆê¸°í™” ì™„ë£Œ")}catch(t){console.error("âŒ ì•± ì´ˆê¸°í™” ì‹¤íŒ¨:",t)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",G):G();window.enterGame=function(){const e=document.getElementById("bridgeScreen");e&&(e.classList.add("hidden"),setTimeout(()=>{e.remove()},500)),console.log("ğŸ® Game Entered (Bridge Closed)")};
