(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const h={APPENTOS_APP_KEY:"jAicsveDu9OQDtYs4m8H3v0SiI9DfhV9uKgB97_0WVA",ENV:"production",MAX_CHANNEL_IMAGES:82,DEFAULT_PLAYER_NAMES:["ëƒ¥ì½©ì´","ëª½ê¸€ëƒ¥","ê³ ì–‘ë³„","ëƒ¥ë­‰ì¹˜","ê¼¬ë¬¼ì´","ë§ë‘ë°œë°”ë‹¥","ì†œë°œì´","ì½”ì½”ëƒ¥","ë³„ëƒ¥ì´","êµ¬ë¦„ë°œìêµ­","ì‚´ë‘ì´","ì´ˆì½”ê¼¬ë¦¬","ë™ê¸€ëƒ¥","í•˜ëŠ˜ë°œìêµ­","ë‹¬ëƒ¥ì´","ìˆœë‘¥ëƒ¥","ëˆˆì†¡ì´ëƒ¥","í¬í¬ëƒ¥","ê°€ì„ëƒ¥","ì´ì´ì´"],ADMOB_INTERSTITIAL_ID:"ait-ad-test-interstitial-id"};function ee(){console.log("ğŸ”Š ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ì´ˆê¸°í™”..."),window.isAudioEnabled=!1,window.isMusicPlaying=!1,ne();const e=document.getElementById("audioToggleButton");e&&(e.onclick=t=>{t.preventDefault(),Y()})}function Y(){window.isAudioEnabled=!window.isAudioEnabled;const e=document.getElementById("audioOnIcon"),t=document.getElementById("audioOffIcon"),n=document.getElementById("audioToggleButton");if(window.isAudioEnabled)e.style.display="block",t.style.display="none",n.classList.remove("disabled"),n.setAttribute("aria-checked","true"),console.log("ğŸ”Š All audio enabled");else{e.style.display="none",t.style.display="block",n.classList.add("disabled"),n.setAttribute("aria-checked","false");const s=document.getElementById("bgMusic");if(s&&window.isMusicPlaying){s.pause();const o=document.getElementById("powerButton"),i=document.getElementById("ledIndicator"),a=document.getElementById("soundWaves");o.classList.remove("active"),i.classList.remove("active"),a.classList.remove("active"),window.isMusicPlaying=!1}console.log("ğŸ”‡ All audio disabled")}}function te(){const e=document.getElementById("bgMusic"),t=document.getElementById("bgMusicSrc"),n=document.getElementById("powerButton"),s=document.getElementById("ledIndicator"),o=document.getElementById("soundWaves");if(e)if(window.isMusicPlaying)e.pause(),n.classList.remove("active"),s.classList.remove("active"),o.classList.remove("active"),window.isMusicPlaying=!1;else{if(!window.isAudioEnabled){typeof window.showCustomAlert=="function"?window.showCustomAlert("ìƒë‹¨ì˜ ì‚¬ìš´ë“œ ë²„íŠ¼ì„ ë¨¼ì € ì¼œì£¼ì„¸ìš”!"):alert("ìƒë‹¨ì˜ ì‚¬ìš´ë“œ ë²„íŠ¼ì„ ë¨¼ì € ì¼œì£¼ì„¸ìš”!");return}n.classList.add("active"),s.classList.add("active"),o.classList.add("active"),window.isMusicPlaying=!0,t&&t.src&&e.play().then(()=>console.log("ë°°ê²½ìŒ ì¬ìƒ ì‹œì‘")).catch(i=>console.warn("ìŒì•… ì¬ìƒ ì‹¤íŒ¨:",i))}}function y(e){return window.isAudioEnabled?e&&typeof e.play=="function"?e.play().catch(t=>{console.warn("Audio play failed:",t)}):Promise.resolve():(console.log("âš ï¸ Audio is disabled"),Promise.resolve())}function ne(){document.addEventListener("visibilitychange",()=>{const e=document.getElementById("bgMusic"),t=document.getElementById("scanSound"),n=document.getElementById("gameStartSound"),s=document.getElementById("gameEndSound"),o=document.getElementById("failSound");document.hidden?(window.wasMusicPlaying=e&&!e.paused,e&&e.pause(),t&&t.pause(),n&&n.pause(),s&&s.pause(),o&&o.pause(),console.log("ì•± ë°±ê·¸ë¼ìš´ë“œ - ëª¨ë“  ì˜¤ë””ì˜¤ ì¼ì‹œì •ì§€")):(console.log("ì•± í¬ê·¸ë¼ìš´ë“œ ë³µê·€"),window.wasMusicPlaying&&window.isMusicPlaying&&e&&e.play().then(()=>console.log("ë°°ê²½ìŒì•… ìë™ ì¬ê°œ")).catch(i=>console.warn("ë°°ê²½ìŒì•… ì¬ê°œ ì‹¤íŒ¨:",i)))})}window.toggleAllAudio=Y;window.toggleMusic=te;const U=[];for(let e=1;e<=82;e++){const t=e.toString().padStart(4,"0");U.push(`channel${t}.jpg`)}let W=0,k=3,f=0,l="",g="",b=[],_={},$=[],F=!1;async function oe(){if(F){console.log("âš ï¸ ê²Œì„ì´ ì´ë¯¸ ì´ˆê¸°í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.");return}console.log("ğŸ® ê²Œì„ ì‹œìŠ¤í…œ ì´ˆê¸°í™”..."),F=!0;try{const n=await fetch("point/json/pointInfo.json");n.ok&&(_=await n.json(),console.log("ê³ ì–‘ì´ ìœ„ì¹˜ ì •ë³´ ë¡œë“œ ì™„ë£Œ"))}catch(n){console.warn("ê³ ì–‘ì´ ìœ„ì¹˜ ì •ë³´ ë¡œë“œ ì‹¤íŒ¨:",n)}fe(),L(),Ae(),setTimeout(J,2e3),window.startGame=ie,window.pressNumber=ae,window.backspace=ce,window.changeChannel=Z,window.confirmPlayer=le,window.resetGame=P,window.randomChannel=de,window.openInfoPopup=pe,window.closeInfoPopup=ge,window.showCustomAlert=w,window.closeCustomAlert=z,window.showCustomAlert=w,window.closeCustomAlert=z;const e=document.getElementById("tvImage"),t=document.getElementById("tvSubtitle");e.src="images/basicCn.png",e.style.display="block",t&&t.classList.remove("hidden")}function se(e){if(!e||e.trim()==="")return{valid:!1,message:"ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!"};const t=e.trim();if(!/^[ê°€-í£a-zA-Z0-9]+$/.test(t))return{valid:!1,message:"í•œê¸€, ì˜ë¬¸, ìˆ«ìë§Œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤!"};const s=t.match(/[ê°€-í£]/g)||[],o=t.match(/[a-zA-Z0-9]/g)||[];if(s.length>0){const i=s.length+o.length;if(i<2||i>10)return{valid:!1,message:"í•œê¸€ í¬í•¨ ì‹œ 2~10ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”!"}}else if(o.length<2||o.length>20)return{valid:!1,message:"ì˜ë¬¸/ìˆ«ìë§Œ ì‚¬ìš© ì‹œ 2~20ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”!"};return{valid:!0,message:""}}function ie(){const e=document.getElementById("gameStartSound");e.currentTime=0,y(e),k=parseInt(document.getElementById("playerCount").value),f=0,b=[],$=[],document.getElementById("initialScreen").classList.add("slide-out"),setTimeout(()=>{document.getElementById("initialScreen").classList.add("hidden");const t=document.getElementById("remoteControl");t.style.display="block",t.classList.add("slide-in"),X(),K()},500)}function K(){const e=document.getElementById("playerName");f<h.DEFAULT_PLAYER_NAMES.length?e.value=h.DEFAULT_PLAYER_NAMES[f]:e.value=`í”Œë ˆì´ì–´${f+1}`}function X(){const e=document.getElementById("playerInfo");e.textContent=`í”Œë ˆì´ì–´ ${f+1} / ${k}`}let A=!1;function ae(e){if(A)return;const t=document.getElementById(`btn${e}`);t.classList.add("pressed"),setTimeout(()=>t.classList.remove("pressed"),200);const n=document.getElementById("clickSound");n&&(n.currentTime=0,y(n)),!(l.length===0&&e==="0")&&l.length<3&&(l+=e,x())}function ce(){A||(l=l.slice(0,-1),x())}function de(){if(A)return;A=!0,l="",x();const e=Math.floor(Math.random()*999)+1,n=String(e).padStart(3,"0").split("");n.forEach((s,o)=>{setTimeout(()=>{const i=`btn${s}`,a=document.getElementById(i);if(a){a.classList.add("pressed"),setTimeout(()=>a.classList.remove("pressed"),200);const d=document.createElement("div");d.className="button-paw-print";const u=(Math.random()-.5)*40;d.style.setProperty("--paw-rotation",`${u}deg`),a.appendChild(d),setTimeout(()=>d.remove(),600)}l+=s,x();const c=document.getElementById("clickSound");c&&(c.currentTime=0,y(c))},o*600)}),setTimeout(()=>{const s=document.getElementById("btnChannelAction");if(s){s.style.transform="translateY(2px)",setTimeout(()=>s.style.transform="",200);const o=document.createElement("div");o.className="button-paw-print";const i=(Math.random()-.5)*40;o.style.setProperty("--paw-rotation",`${i}deg`),s.appendChild(o),setTimeout(()=>o.remove(),800);const a=document.getElementById("clickSound");a&&(a.currentTime=0,y(a))}setTimeout(()=>{A=!1,Z()},500)},n.length*600)}function x(){const e=document.getElementById("channelDisplay");l.length>0?(e.textContent=l.padStart(3,"0"),e.classList.add("active")):(e.textContent="000",e.classList.remove("active"))}function Z(){if(A)return;const e=parseInt(l);if(!l||e<1||e>999){w("ì±„ë„ ë²ˆí˜¸ëŠ” 1~999 ì‚¬ì´ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”!");return}const t=b.map(a=>a.channel);if(t.includes(l.padStart(3,"0"))){w(`ì±„ë„ ${l.padStart(3,"0")}ë²ˆì€ ì´ë¯¸ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤!

ì‚¬ìš©ëœ ì±„ë„: ${t.join(", ")}`);return}const n=U.filter(a=>!$.includes(a));if(n.length===0){w("ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë¯¸ì§€ê°€ ëª¨ë‘ ì†Œì§„ë˜ì—ˆìŠµë‹ˆë‹¤!");return}const s=Math.floor(Math.random()*n.length);g=n[s];const o=document.getElementById("tvImage");o.src=`images/channels/${g}`,o.style.display="block";const i=document.getElementById("tvSubtitle");i&&i.classList.add("hidden"),o.onload=()=>{re(g),O(!1)},o.onerror=()=>{w("ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!"),o.style.display="none"}}function re(e){document.querySelectorAll(".cat-pulse").forEach(r=>r.remove());const n=document.querySelector(".scan-line");if(n&&n.remove(),!_[e]){console.warn(`${e}ì— ëŒ€í•œ ê³ ì–‘ì´ ìœ„ì¹˜ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.`),O(!0),T(!0),N();return}const s=_[e].cats||[],o=document.getElementById("tvScreen"),i=document.getElementById("scanSound"),a=Array.from(document.querySelectorAll(".catSound"));R(0),i.currentTime=0,y(i);const c=document.createElement("div");c.className="scan-line",o.appendChild(c);let d=2e3;if(c.style.animation=`scanMove ${d}ms linear forwards`,s.length===0){setTimeout(()=>{c.remove(),i.pause(),i.currentTime=0;const r=document.getElementById("failSound");r&&(r.currentTime=0,y(r)),R(0),T(!0),N()},d);return}let u=0;s.forEach(r=>{const Q=d*r.x;setTimeout(()=>{const M=document.createElement("div");M.className="cat-pulse",M.style.left=`${r.x*100}%`,M.style.top=`${r.y*100}%`,o.appendChild(M),setTimeout(()=>{M.remove()},1500);const G=a[W%a.length];G.currentTime=0,y(G),W++,u++,R(u),u===s.length&&setTimeout(()=>{T(!0),N()},500)},Q)}),setTimeout(()=>{c.remove(),i.pause(),i.currentTime=0},d)}function le(){const e=document.getElementById("playerName").value.trim(),t=se(e);if(!t.valid){w(t.message);return}if(!l||!g){w("ì±„ë„ì„ ì„ íƒí•´ì£¼ì„¸ìš”!");return}const n=_[g]?.cats?.length||0;if(b.push({name:e,channel:l.padStart(3,"0"),imageName:g,catCount:n}),$.push(g),f<k-1){f++,l="",g="";const s=document.getElementById("tvImage");s.onload=null,s.style.display="block",s.src="images/basicCn.png";const o=document.getElementById("tvSubtitle");o&&o.classList.remove("hidden"),X(),K();const i=document.getElementById("catCounter");i.classList.remove("active","pop"),i.textContent="0";const a=document.getElementById("channelDisplay");a.classList.remove("active"),a.textContent="000",document.querySelectorAll(".cat-pulse").forEach(d=>d.remove()),O(!0),T(!1),N()}else ue()}function ue(){const e=document.getElementById("gameEndSound");e.currentTime=0,y(e),b.sort((i,a)=>a.catCount-i.catCount);const t=document.getElementById("resultList");t.innerHTML="";let n=1,s=-1,o=0;b.forEach(i=>{const a=i.catCount===s;a?o++:(n+=o,o=1),s=i.catCount;const c=document.createElement("div");c.className="result-item";let d="",u="",r=`${n}ë“±`;n===1?(d="first",u="ğŸ¥‡",r=a?"ê³µë™ 1ë“±":"1ë“±"):n===2?(d="second",u="ğŸ¥ˆ",r=a?"ê³µë™ 2ë“±":"2ë“±"):n===3?(d="third",u="ğŸ¥‰",r=a?"ê³µë™ 3ë“±":"3ë“±"):r=a?`ê³µë™ ${n}ë“±`:`${n}ë“±`,c.innerHTML=`
      <div class="result-rank ${d}">
        ${u?`<span class="rank-emoji">${u}</span>`:""}
        <span class="rank-text">${r}</span>
      </div>
      <div class="result-info">
        <div class="result-name">${i.name}</div>
        <div class="result-details">
          <span class="result-channel">ì±„ë„ ${i.channel}</span>
          <span class="result-score">ğŸ± ${i.catCount}ë§ˆë¦¬</span>
        </div>
      </div>
      <div class="result-thumbnail">
        <img src="images/channels/${i.imageName}" alt="ì±„ë„ ${i.channel}">
      </div>
    `,t.appendChild(c)}),document.getElementById("remoteControl").style.display="none",document.getElementById("resultScreen").classList.add("active")}function P(){Te().then(()=>{me()})}function me(){k=3,f=0,l="",g="",b=[],$=[],document.getElementById("resultScreen").classList.remove("active"),document.getElementById("remoteControl").style.display="none",document.getElementById("remoteControl").classList.remove("slide-in"),document.getElementById("initialScreen").classList.remove("slide-out","hidden");const e=document.getElementById("tvImage");e.style.display="block",e.src="images/basicCn.png";const t=document.getElementById("tvSubtitle");t&&t.classList.remove("hidden"),e.onload=null,e.onerror=null;const n=document.getElementById("catCounter");n.classList.remove("active","pop"),n.textContent="0";const s=document.getElementById("channelDisplay");s.classList.remove("active"),s.textContent="000",document.getElementById("playerCount").value="3",document.getElementById("playerName").value="",O(!0),T(!1),document.querySelectorAll(".cat-pulse").forEach(a=>a.remove());const i=document.querySelector(".scan-line");i&&i.remove()}function O(e){["btn1","btn2","btn3","btn4","btn5","btn6","btn7","btn8","btn9","btn0","btnBackspace","btnRandom","btnChannelAction"].forEach(n=>{const s=document.getElementById(n);s&&(s.disabled=!e)})}function T(e){document.getElementById("btnNext").disabled=!e}function N(){const e=document.getElementById("btnNext");f===k-1?e.setAttribute("aria-label","ê²°ê³¼ í™•ì¸"):e.setAttribute("aria-label","ë‹¤ìŒ")}function R(e){const t=document.getElementById("catCounter");t.textContent=e,t.classList.add("active"),e>0?(t.classList.remove("pop"),t.offsetWidth,t.classList.add("pop")):t.classList.remove("pop")}let B=null;function pe(){B=document.activeElement;const e=document.getElementById("infoPopup");e.classList.add("active"),document.body.style.overflow="hidden";const t=e.querySelector(".close-button");t&&setTimeout(()=>t.focus(),100)}function ge(){document.getElementById("infoPopup").classList.remove("active"),document.body.style.overflow="",B&&B.focus()}function w(e){B=document.activeElement;const t=document.getElementById("customAlertOverlay"),n=document.getElementById("customAlertMessage"),s=t.querySelector(".custom-alert-button");n.textContent=e,t.classList.add("active"),s&&setTimeout(()=>s.focus(),100)}function z(){document.getElementById("customAlertOverlay").classList.remove("active"),B&&B.focus()}let j=!1;function fe(){if(j){console.log("âš ï¸ ë“œë¡­ë‹¤ìš´ì´ ì´ë¯¸ ì´ˆê¸°í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.");return}const e=document.getElementById("customDropdown"),t=document.getElementById("dropdownButton"),n=document.getElementById("dropdownList"),s=document.getElementById("dropdownValue"),o=document.getElementById("playerCount");t&&(t.setAttribute("aria-expanded","false"),t.addEventListener("click",a=>{a.stopPropagation(),e.classList.toggle("open");const c=e.classList.contains("open");t.setAttribute("aria-expanded",c)})),n&&(n.querySelectorAll(".custom-dropdown-option").forEach(c=>{c.setAttribute("role","option"),c.setAttribute("aria-selected",c.classList.contains("selected"))}),n.addEventListener("click",c=>{if(c.target.classList.contains("custom-dropdown-option")){const d=c.target.getAttribute("data-value"),u=c.target.textContent;s.textContent=u,o.value=d,document.querySelectorAll(".custom-dropdown-option").forEach(r=>{r.classList.remove("selected"),r.setAttribute("aria-selected","false")}),c.target.classList.add("selected"),c.target.setAttribute("aria-selected","true"),e.classList.remove("open"),t&&t.setAttribute("aria-expanded","false")}})),document.addEventListener("click",()=>{e&&(e.classList.remove("open"),t&&t.setAttribute("aria-expanded","false"))});const i=document.querySelector('.custom-dropdown-option[data-value="3"]');i&&(i.classList.add("selected"),i.setAttribute("aria-selected","true")),j=!0}function we(e,t,n=0){const s=document.querySelector(".tv-screen");if(s){const a=s.getBoundingClientRect(),c=50;if(e+c>a.left&&e<a.right&&t+c>a.top&&t<a.bottom)return}const o=document.getElementById("pawPrintsContainer"),i=document.createElement("div");i.className="paw-print",i.style.left=`${e}px`,i.style.top=`${t}px`,i.style.transform=`rotate(${n}deg) scaleX(-1)`,o.appendChild(i),setTimeout(()=>{i.remove()},8e3)}let p={x:0,y:0},m=0,q=!1;function ye(){p.x=window.innerWidth/2+(Math.random()-.5)*200,p.y=window.innerHeight/2+(Math.random()-.5)*200,m=Math.random()*360}function ve(){const e=window.innerWidth,t=window.innerHeight,n=100;p.x<n?m=-45+Math.random()*90:p.x>e-n?m=135+Math.random()*90:p.y<n?m=45+Math.random()*90:p.y>t-n?m=225+Math.random()*90:m+=(Math.random()-.5)*90,m=(m%360+360)%360}function Ie(){ve();const s=m*Math.PI/180;for(let o=0;o<8;o++)setTimeout(()=>{const i=o%2===0?-1:1,a=Math.cos(s)*45*o+Math.sin(s)*12*i,c=Math.sin(s)*45*o-Math.cos(s)*12*i,d=p.x+a,u=p.y+c,r=m+90+(Math.random()-.5)*10;we(d,u,r),o===7&&(p.x=d,p.y=u)},o*250)}function J(){q||(ye(),q=!0),Ie(),setTimeout(J,1800)}function Ae(){const e=document.getElementById("infoPopup");if(e){e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-labelledby","infoPopupTitle");const i=e.querySelector(".info-title");i&&(i.id="infoPopupTitle")}const t=document.getElementById("customAlertOverlay");t&&(t.setAttribute("role","alertdialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-describedby","customAlertMessage"));const n=document.getElementById("audioToggleButton");n&&(n.setAttribute("role","switch"),n.hasAttribute("aria-label")||n.setAttribute("aria-label","ì „ì²´ ì‚¬ìš´ë“œ ì¼œê¸°/ë„ê¸°"));const s=document.getElementById("dropdownList");s&&s.setAttribute("role","listbox");const o=document.getElementById("dropdownButton");o&&o.setAttribute("aria-haspopup","listbox")}var Ee=class{get _window(){return typeof window<"u"?window:{ReactNativeWebView:{postMessage:()=>{}},__GRANITE_NATIVE_EMITTER:{on:()=>()=>{}},__CONSTANT_HANDLER_MAP:{}}}postMessage(e){const t=this._window.ReactNativeWebView;if(!t)throw new Error("ReactNativeWebView is not available in browser environment");t.postMessage(JSON.stringify(e))}on(e,t){const n=this._window.__GRANITE_NATIVE_EMITTER;if(!n)throw new Error("__GRANITE_NATIVE_EMITTER is not available");return n.on(e,t)}getConstant(e){const t=this._window.__CONSTANT_HANDLER_MAP;if(t&&e in t)return t[e];throw new Error(`${e} is not a constant handler`)}},S=new Ee,he=()=>Math.random().toString(36).substring(2,15),be=e=>{if(e&&e.__isError){const t=new Error(e.message);for(const[n,s]of Object.entries(e))t[n]=s;return t}return e};function v(e){return t=>{const n=he(),s=[S.on(`${e}/onEvent/${n}`,o=>{t.onEvent(o)}),S.on(`${e}/onError/${n}`,o=>{t.onError(be(o))})];return S.postMessage({type:"addEventListener",functionName:e,eventId:n,args:t.options}),()=>{S.postMessage({type:"removeEventListener",functionName:e,eventId:n}),s.forEach(o=>o())}}}function I(e){return()=>S.getConstant(e)}var Be=function(){return{emit:function(t,n){for(var s=this.events[t]||[],o=0,i=s.length;o<i;o++)s[o](n)},events:{},on:function(t,n){var s=this,o,i;return((o=this.events)[i=t]||(o[i]=[])).push(n),function(){var a;s.events[t]=(a=s.events[t])===null||a===void 0?void 0:a.filter(function(c){return n!==c})}}}};typeof window<"u"&&(window.__GRANITE_NATIVE_EMITTER=Be());var C={loadAdMobInterstitialAd:Object.assign(v("loadAdMobInterstitialAd"),{isSupported:I("loadAdMobInterstitialAd_isSupported")}),showAdMobInterstitialAd:Object.assign(v("showAdMobInterstitialAd"),{isSupported:I("showAdMobInterstitialAd_isSupported")}),loadAdMobRewardedAd:Object.assign(v("loadAdMobRewardedAd"),{isSupported:I("loadAdMobRewardedAd_isSupported")}),showAdMobRewardedAd:Object.assign(v("showAdMobRewardedAd"),{isSupported:I("showAdMobRewardedAd_isSupported")}),loadAppsInTossAdMob:Object.assign(v("loadAppsInTossAdMob"),{isSupported:I("loadAppsInTossAdMob_isSupported")}),showAppsInTossAdMob:Object.assign(v("showAppsInTossAdMob"),{isSupported:I("showAppsInTossAdMob_isSupported")})};let V=!1;async function Me(){if(V)return;console.log("--- Environment Check (Framework) ---"),console.log("UA:",navigator.userAgent);const e=C.loadAppsInTossAdMob.isSupported();console.log("GoogleAdMob Supported:",e),console.log("-------------------------"),e?console.log("âœ… GoogleAdMob logic enabled."):(console.warn("âš ï¸ GoogleAdMob not supported. Initializing Mock SDK."),Le()),V=!0,console.log("âœ… Bedrock (Framework) initialized"),Ce(),Ne()}window.resetGame=P;window.showExitConfirmation=D;let E=!1,Se=null;async function L(){if(C.loadAppsInTossAdMob.isSupported()!==!0){if(window.Bedrock&&window.Bedrock.loadAppsInTossAdMob){console.log("Using Mock Bedrock for Ad Load"),window.Bedrock.loadAppsInTossAdMob({options:{adGroupId:h.ADMOB_INTERSTITIAL_ID},onEvent:e=>{e.type==="loaded"&&(E=!0)}});return}console.warn("âš ï¸ AdMob not supported in this environment");return}console.log("â³ Loading Interstitial Ad (Framework)...");try{const e=C.loadAppsInTossAdMob({options:{adGroupId:h.ADMOB_INTERSTITIAL_ID},onEvent:t=>{t.type==="loaded"&&(E=!0,console.log("âœ… Interstitial Ad Loaded (Framework)"),Se=e)},onError:t=>{console.warn("âŒ Failed to load Interstitial Ad:",t),E=!1,e&&e()}})}catch(e){console.warn("âŒ Error calling loadAppsInTossAdMob:",e)}}function Te(){return new Promise(e=>{if(!E){console.log("âš ï¸ Ad not loaded, skipping..."),L(),e();return}if(C.showAppsInTossAdMob.isSupported()!==!0){if(window.Bedrock&&window.Bedrock.showAppsInTossAdMob){window.Bedrock.showAppsInTossAdMob({options:{adGroupId:h.ADMOB_INTERSTITIAL_ID},onEvent:t=>{t.type==="dismissed"&&(E=!1,L(),e())}});return}e();return}try{console.log("ğŸ“º Showing Interstitial Ad (Framework)..."),C.showAppsInTossAdMob({options:{adGroupId:h.ADMOB_INTERSTITIAL_ID},onEvent:t=>{switch(console.log("Ad Event:",t.type),t.type){case"show":console.log("ê´‘ê³  í‘œì‹œë¨");break;case"dismissed":console.log("ê´‘ê³  ë‹«í˜"),E=!1,L(),e();break;case"failedToShow":console.warn("ê´‘ê³  í‘œì‹œ ì‹¤íŒ¨"),e();break}},onError:t=>{console.warn("âŒ Failed to show Ad:",t),e()}})}catch(t){console.warn("âŒ Error calling showAd:",t),e()}})}function Le(){window.Bedrock||(window.Bedrock={init:()=>Promise.resolve(),exit:()=>console.log("Mock Exit"),loadAppsInTossAdMob:e=>(console.log("ğŸ“¦ [Mock] loadAppsInTossAdMob:",e),setTimeout(()=>e.onEvent?.({type:"loaded",data:{}}),1e3),()=>{}),showAppsInTossAdMob:e=>{console.log("ğŸ“º [Mock] showAppsInTossAdMob:",e),setTimeout(()=>e.onEvent?.({type:"show"}),500),setTimeout(()=>{console.log("âœ… [Mock] Ad dismissed"),e.onEvent?.({type:"dismissed"})},2500)}},window.NavigationBar={setTitle:e=>console.log("Mock Title:",e),setBackButton:e=>window.mockPressBackButton=e.onPress},window.OnAudioFocusChanged=e=>{window.addEventListener("focus",()=>e(!0)),window.addEventListener("blur",()=>e(!1))})}function Ce(){try{const{NavigationBar:e}=window;if(!e)return;e.setTitle("Find Meow"),e.setBackButton({visible:!0,onPress:ke}),console.log("âœ… Navigation bar configured")}catch(e){console.warn("Navigation bar setup failed:",e)}}function ke(){console.log("â¬…ï¸ Handle Back Button Pressed");const e=Pe();if(console.log(`Current Screen detected as: ${e}`),e==="game")D();else if(e==="result")P();else try{window.Bedrock.exit()}catch(t){console.warn("Cannot exit (development mode):",t)}}function Pe(){const e=document.getElementById("remoteControl"),t=document.getElementById("resultScreen");return e&&e.classList.contains("slide-in")?"game":t&&t.classList.contains("active")?"result":"initial"}function D(){if(confirm("ê²Œì„ì„ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{window.Bedrock.exit()}catch(t){console.warn("Cannot exit:",t),P()}}function Ne(){try{const{OnAudioFocusChanged:e}=window;if(!e)return;e(t=>{console.log(`Audio focus changed: ${t}`),t?xe():_e()}),console.log("âœ… Audio focus listener configured")}catch(e){console.warn("Audio focus listener setup failed:",e)}}function _e(){const e=document.getElementById("bgMusic"),t=document.getElementById("scanSound");if(!e)return;e.paused||(window.wasMusicPlaying=!0,e.pause()),t&&!t.paused&&t.pause();const n=document.getElementById("powerButton"),s=document.getElementById("ledIndicator"),o=document.getElementById("soundWaves");n&&n.classList.remove("active"),s&&s.classList.remove("active"),o&&o.classList.remove("active"),console.log("ğŸ”‡ All audio paused (Focus Lost)")}function xe(){if(window.isAudioEnabled&&window.wasMusicPlaying&&window.isMusicPlaying){const e=document.getElementById("bgMusic");e&&e.play().then(()=>{console.log("ğŸ”Š Background music resumed (Focus Gained)");const t=document.getElementById("powerButton"),n=document.getElementById("ledIndicator"),s=document.getElementById("soundWaves");t&&t.classList.add("active"),n&&n.classList.add("active"),s&&s.classList.add("active")}).catch(t=>console.warn("Failed to resume music:",t))}}window.resetGame=P;window.showExitConfirmation=D;async function H(){console.log("ğŸš€ Find Meow ì•± ì‹œì‘...");try{await Me(),L(),ee(),oe(),console.log("âœ… ì•± ì´ˆê¸°í™” ì™„ë£Œ")}catch(e){console.error("âŒ ì•± ì´ˆê¸°í™” ì‹¤íŒ¨:",e)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",H):H();window.enterGame=function(){const e=document.getElementById("bridgeScreen");e&&(e.classList.add("hidden"),setTimeout(()=>{e.remove()},500));const t=document.getElementById("rating-overlay");t&&(t.classList.add("active"),setTimeout(()=>{t.remove()},3200)),console.log("ğŸ® Game Entered (Bridge Closed)")};
